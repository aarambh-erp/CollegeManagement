@model CollegeManagement.Models.ViewModels.Profiles.ProfileViewModel
@{
    Layout = "_StudentLayout";
    ViewData["ActiveTab"] = "Profile";
    var photoPath = Model.Student.PhotoPath == "" ? "/images/student-illustration.jpeg" : Model.Student.PhotoPath;
}

@section Styles {
    <style>

        /* ===========================
           PROFILE HEADER
        ============================ */
        .profile-header {
            display: flex;
            align-items: center;
            gap: 25px;
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 25px;
            position: relative;
        }

            .profile-header img {
                width: 110px;
                height: 110px;
                border-radius: 50%;
                object-fit: cover;
                border: 4px solid #3b82f6;
            }

        .profile-info h2 {
            font-weight: 700;
            color: #1f2937;
        }

        .profile-info p {
            font-size: 15px;
            color: #6b7280;
        }

        /* ===========================
           FLOATING EDIT BUTTON
           Dribbble-style
        ============================ */
        .edit-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 42px;
            height: 42px;
            background: #ffffff;
            border-radius: 50%;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            color: #444;
            cursor: pointer;
            text-decoration: none;
            transition: 0.25s ease-in-out;
        }

            .edit-btn:hover {
                background: #f1f1f1;
                transform: scale(1.12);
                box-shadow: 0 6px 18px rgba(0,0,0,0.18);
                color: #000;
            }

        /* ===========================
           PROFILE CARDS
        ============================ */
        .profile-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }

            .profile-card h4 {
                font-weight: 600;
                margin-bottom: 20px;
            }

        /* ===========================
           INFO GRID
        ============================ */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .info-item {
            background: #f9fafb;
            padding: 15px;
            border-radius: 10px;
        }

            .info-item label {
                font-size: 13px;
                color: #6b7280;
            }

            .info-item div {
                font-size: 16px;
                font-weight: 600;
                color: #111827;
                margin-top: 4px;
            }
    </style>
}

<div class="profile-header position-relative">

    <!-- Floating Edit Button -->
    <a asp-controller="StudentDashboard" asp-action="EditProfile" asp-route-id ="@Model.Student.Id" class="edit-btn">
        <i class="bi bi-pencil-square"></i>
    </a>

    <img src=@photoPath alt="Profile Photo" />

    <div class="profile-info">
        <h2>@Model.Student.Name</h2>
        <p><i class="bi bi-envelope"></i> @Model.Student.Email</p>
        <p><i class="bi bi-telephone"></i> @Model.Student.ContactNo</p>
    </div>
</div>


<!-- ===========================
     PERSONAL INFORMATION
=========================== -->
<div class="profile-card">
    <h4><i class="bi bi-person-lines-fill"></i> Personal Information</h4>

    <div class="info-grid">
        <div class="info-item">
            <label>Full Name</label>
            <div>@Model.Student.Name</div>
        </div>

        <div class="info-item">
            <label>Gender</label>
            <div>@Model.Student.Gender</div>
        </div>

        <div class="info-item">
            <label>Date of Birth</label>
            <div>@Model.Student.DateOfBirth.ToString("dd MMM yyyy")</div>
        </div>

        <div class="info-item">
            <label>Father's Name</label>
            <div>@Model.Student.FatherName</div>
        </div>

        <div class="info-item">
            <label>Address</label>
            <div>@Model.Student.Address</div>
        </div>
    </div>
</div>


<!-- ===========================
     ACADEMIC INFORMATION
=========================== -->
<div class="profile-card">
    <h4><i class="bi bi-mortarboard-fill"></i> Academic Information</h4>

    <div class="info-grid">
        <div class="info-item">
            <label>Roll Number</label>
            <div>@Model.Student.RollNo</div>
        </div>

        <div class="info-item">
            <label>Courses</label>
            <div>
                @foreach (var c in Model.Courses)
                {
                    <span>@c.CourseName<br /></span>
                }
            </div>
        </div>

        <div class="info-item">
            <label>Admission Date</label>
            <div>@Model.Student.AdmissionDate.ToString("dd MMM yyyy")</div>
        </div>
    </div>
</div>
