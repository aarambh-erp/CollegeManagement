@model IEnumerable<CollegeManagement.Models.Results.Result>
@{
    Layout = "_StudentLayout";
    ViewBag.ActiveTab = "Results";
}

<div class="container py-4">

    <h2 class="fw-bold text-primary text-center mb-4">📊 Academic Results</h2>

    <div class="table-responsive shadow-sm rounded">
        <table class="table table-hover align-middle">
            <thead class="table-primary text-center">
                <tr>
                    <th>Course</th>
                    <th>Semester</th>
                    <th>Marks</th>
                    <th>GPA</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var r in Model)
                {
                    var percentage = (r.MarksObtained / r.TotalMarks) * 100;
                    string status = percentage >= 40 ? "Pass" : "Fail";
                    string badge = percentage >= 40 ? "bg-success" : "bg-danger";

                    <tr class="text-center">
                        <td class="fw-semibold">@r.Course?.CourseName</td>
                        <td>@r.Semester</td>

                        <td>
                            <strong>@r.MarksObtained / @r.TotalMarks</strong>
                            <br />
                            <small class="text-muted">@percentage.ToString("0.0")%</small>
                        </td>

                        <td>
                            <span class="badge bg-info text-dark px-3 py-2">
                                @r.GPA.ToString("0.00")
                            </span>
                        </td>

                        <td>
                            <span class="badge @badge px-3 py-2">@status</span>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<style>
    table tbody tr:hover {
        background-color: #f7faff;
        transform: scale(1.01);
        transition: 0.2s;
    }
</style>