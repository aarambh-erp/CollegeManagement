@model CollegeManagement.Models.ViewModels.Profiles.EditProfileViewModel

@{
    Layout = "_StudentLayout";
    ViewData["Title"] = "Edit Profile";
    var photoPath = Model.ExistingPhotoPath == "" ? "/images/student-illustration.jpeg" : Model.ExistingPhotoPath;
}

@section Styles {
    <style>
        .edit-profile-card {
            background: #ffffff;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            max-width: 650px;
            margin: auto;
        }

        .form-label {
            font-weight: 600;
            color: #374151;
        }

        .form-control {
            border-radius: 8px;
            padding: 10px;
        }

        .profile-photo-box {
            text-align: center;
            margin-bottom: 20px;
        }

            .profile-photo-box img {
                width: 130px;
                height: 130px;
                border-radius: 50%;
                object-fit: cover;
                border: 4px solid #3b82f6;
            }

        .btn-save {
            background: #3b82f6;
            color: white;
            font-weight: 600;
            padding: 10px 22px;
            border-radius: 8px;
            border: none;
            transition: 0.3s;
        }

            .btn-save:hover {
                background: #2563eb;
            }

        .btn-cancel {
            background: #e5e7eb;
            color: #111827;
            font-weight: 600;
            padding: 10px 22px;
            border-radius: 8px;
            border: none;
            margin-left: 10px;
        }

            .btn-cancel:hover {
                background: #d1d5db;
            }
    </style>
}

<div class="edit-profile-card mt-4">

    <h3 class="mb-3"><i class="bi bi-pencil-square"></i> Edit Profile</h3>
    <hr />

    @* Begin Form *@
    <form asp-action="EditProfile" asp-controller="Student" method="post" enctype="multipart/form-data">

        @* Profile Photo Preview *@
        <div class="profile-photo-box">
            <img src=@photoPath alt="Current Photo" />
        </div>

        @* Upload *@
        <div class="mb-3">
            <label class="form-label">Profile Photo</label>
            <input type="file" class="form-control" asp-for="Photo" accept="image/*" />
            <span class="text-danger" asp-validation-for="Photo"></span>
        </div>

        @* Email *@
        <div class="mb-3">
            <label class="form-label">Email</label>
            <input asp-for="Email" class="form-control" placeholder="Enter your email" />
            <span class="text-danger" asp-validation-for="Email"></span>
        </div>

        @* Phone *@
        <div class="mb-3">
            <label class="form-label">Phone Number</label>
            <input asp-for="PhoneNo" class="form-control" placeholder="Enter phone number" />
            <span class="text-danger" asp-validation-for="PhoneNo"></span>
        </div>

        @* Buttons *@
        <div class="text-end">
            <button type="submit" class="btn-save">Save Changes</button>
            <a asp-controller="StudentDashboard" asp-action="Profile" class="btn-cancel">Cancel</a>
        </div>

    </form>
</div>

@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")
}
